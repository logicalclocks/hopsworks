<!--
  ~ This file is part of Hopsworks
  ~ Copyright (C) 2018, Logical Clocks AB. All rights reserved
  ~
  ~ Hopsworks is free software: you can redistribute it and/or modify it under the terms of
  ~ the GNU Affero General Public License as published by the Free Software Foundation,
  ~ either version 3 of the License, or (at your option) any later version.
  ~
  ~ Hopsworks is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY;
  ~ without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR
  ~ PURPOSE.  See the GNU Affero General Public License for more details.
  ~
  ~ You should have received a copy of the GNU Affero General Public License along with this program.
  ~ If not, see <https://www.gnu.org/licenses/>.
  -->

<div class="modal-header">
  <button class="close" ng-click="featureViewInfoCtrl.close()" data-dismiss="modal" aria-hidden="true"
          type="button">&times;</button>
  <h2 class="modal-title">Feature details: {{featureViewInfoCtrl.feature.name}}</h2>
</div>
<div class="modal-body" style="overflow: auto">
    <div uib-accordion close-others="false">
        <div uib-accordion-group class="panel-default">
            <div uib-accordion-heading>
                <i class="fa fa-info-circle" tooltip-placement="auto left"
                   uib-tooltip='Feature Metadata'></i>
                <span style="margin-left: 20px">
                    Feature Details
                </span>
            </div>

            <table class="table table-hover fs-table" style="margin-left: 10px; overflow: auto">
                <tbody class="fs-table">
                <tr class="fs-table">
                    <td style="font-weight:700;" class="fs-table">
                        Name
                    </td>
                    <td class="fs-table">
                        {{featureViewInfoCtrl.feature.name}}
                    </td>
                </tr>

                <tr class="fs-table">
                    <td style="font-weight:700;" class="fs-table">
                        Version
                    </td>
                    <td class="fs-table">
                        {{featureViewInfoCtrl.feature.version}}
                    </td>
                </tr>

                <tr class="fs-table">
                    <td style="font-weight:700;" class="fs-table">
                        Type
                    </td>
                    <td class="fs-table">
                        {{featureViewInfoCtrl.feature.type}}
                    </td>
                </tr>

                <tr class="fs-table">
                    <td style="font-weight:700;" class="fs-table">
                        Description
                    </td>
                    <td class="fs-table">
                        {{featureViewInfoCtrl.feature.description}}
                    </td>
                </tr>

                <tr class="fs-table">
                    <td style="font-weight:700;" class="fs-table">
                        Feature Store
                    </td>
                    <td class="fs-table">
                        {{featureViewInfoCtrl.featurestore.featurestoreName}}
                    </td>
                </tr>

                <tr class="fs-table" ng-if="featureViewInfoCtrl.feature.entity == 'Feature Group'">
                    <td style="font-weight:700;" class="fs-table">
                        Primary
                    </td>
                    <td class="fs-table">
                        {{featureViewInfoCtrl.feature.primary}}
                    </td>
                </tr>

                <tr class="fs-table"
                    ng-if="featureViewInfoCtrl.feature.entity == 'Feature Group' && featureViewInfoCtrl.feature.featuregroup.featuregroupType === featureViewInfoCtrl.cachedFeaturegroupType">
                    <td style="font-weight:700;" class="fs-table">
                        Partition Key
                    </td>
                    <td class="fs-table">
                        {{featureViewInfoCtrl.feature.partition}}
                    </td>
                </tr>

                <tr class="fs-table" ng-if="featureViewInfoCtrl.feature.entity === 1">
                    <td style="font-weight:700;" class="fs-table">
                        Feature Group
                    </td>
                    <td class="fs-table">
                        {{featureViewInfoCtrl.feature.featuregroup.name}}
                    </td>
                </tr>

                <tr class="fs-table" ng-if="featureViewInfoCtrl.feature.entity === 0">
                    <td style="font-weight:700;" class="fs-table">
                        Training Dataset
                    </td>
                    <td class="fs-table">
                        {{featureViewInfoCtrl.feature.trainingDataset.name}}
                    </td>
                </tr>
                </tbody>
            </table>
        </div>

        <div uib-accordion-group class="panel-default">
            <div uib-accordion-heading>
                <i class="fa fa-info-circle" tooltip-placement="auto left"
                   uib-tooltip='API for reading the feature programmatically'></i>
                <span style="margin-left: 20px">
                    API
                </span>
            </div>

            <table class="table table-hover fs-table" style="margin-left: 10px; overflow: auto">
                <tbody class="fs-table">
                <tr class="fs-table">
                    <td style="font-weight:700;" class="fs-table">
                        Python API
                    </td>
                    <td class="fs-table">
<pre>
<code>{{featureViewInfoCtrl.pythonCode}}</code>
</pre>
                    </td>
                </tr>
                <tr class="fs-table">
                    <td style="font-weight:700;" class="fs-table">
                        Scala API
                    </td>
                    <td class="fs-table">
<pre>
<code>{{featureViewInfoCtrl.scalaCode}}</code>
</pre>
                    </td>
                </tr>
                </tbody>
            </table>
        </div>
        
    </div>
</div>
