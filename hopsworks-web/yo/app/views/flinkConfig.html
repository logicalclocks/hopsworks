<!--
  ~ This file is part of Hopsworks
  ~ Copyright (C) 2019, Logical Clocks AB. All rights reserved
  ~
  ~ Hopsworks is free software: you can redistribute it and/or modify it under the terms of
  ~ the GNU Affero General Public License as published by the Free Software Foundation,
  ~ either version 3 of the License, or (at your option) any later version.
  ~
  ~ Hopsworks is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY;
  ~ without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR
  ~ PURPOSE.  See the GNU Affero General Public License for more details.
  ~
  ~ You should have received a copy of the GNU Affero General Public License along with this program.
  ~ If not, see <https://www.gnu.org/licenses/>.
  -->


<form class="form-horizontal">
    <div class="form-group">
        <label class="control-label col-sm-5" for="flink-jb-memory"
               uib-tooltip="The amount of memory, in MB">JobManager memory (MB) </label>
        <div class="col-sm-2">
            <input type="number" class="form-control" id="flink-jb-memory" min="768" step="1"
                   ng-model="flinkConfigCtrl.jobConfig['jobmanager.heap.size']">
        </div>
    </div>

    <div class="form-group">
        <label class="control-label col-sm-5" for="flink-num-tm"
               uib-tooltip="The number of Flink TaskManagers">Number of TaskManagers </label>
        <div class="col-sm-2">
            <input type="number" class="form-control" id="flink-num-tm" min="1" step="1"
                   ng-model="flinkConfigCtrl.jobConfig['numberOfTaskManagers']">
        </div>
    </div>

    <div class="form-group">
        <label class="control-label col-sm-5" for="flink-tm-memory"
               uib-tooltip="The amount of memory, in MB">TaskManager memory (MB) </label>
        <div class="col-sm-2">
            <input type="number" class="form-control" id="flink-tm-memory" min="768" step="1"
                   ng-model="flinkConfigCtrl.jobConfig['taskmanager.heap.size']">
        </div>
    </div>

    <div class="form-group">
        <label class="control-label col-sm-5" for="flink-num-slots"
               uib-tooltip="The number of slots per TaskManager">Number of slots </label>
        <div class="col-sm-2">
            <input type="number" class="form-control" id="flink-num-slots" min="1" step="1"
                   ng-model="flinkConfigCtrl.jobConfig['taskmanager.numberOfTaskSlots']">
        </div>
    </div>

    <div class="form-group">
        <label class="control-label col-sm-10">
        <h5 class="j-tab-advanced"
            ng-click="flinkConfigCtrl.settings.advanced = !flinkConfigCtrl.settings.advanced"
            data-toggle="collapse" data-target="#flinkAdvanced">
            Advanced configuration
            <i class="fa"
               ng-class="{'fa-chevron-down': flinkConfigCtrl.settings.advanced, 'fa-chevron-right': !flinkConfigCtrl.settings.advanced}"
               style="margin-left: 5px">
            </i>
        </h5>
        </label>
    </div>
    <div class="form-group">
        <div id="flinkAdvanced"
             ng-class="{'collapse in': flinkConfigCtrl.settings.advanced, 'collapse': !flinkConfigCtrl.settings.advanced}">
            <div class="form-group">
                <label class="control-label col-sm-5" for="props"
                       uib-tooltip='Enter additional line-separated Flink properties here. Use the equality symbol to separate parameters from values.'>More
                    Flink Properties: </label>
                <div class="col-sm-2">
                <textarea style="width: 100%; max-width: 100%"
                          id="props"
                          ng-model="flinkConfigCtrl.jobConfig.properties"
                          ng-keyup="flinkConfigCtrl.autoExpand($event)"
                          title="state.checkpoints.dir=hdfs:///Projects/flinking/Logs&#10;env.java.opts=&#34;-Dkey=val&#34;">
                </textarea>
                </div>
            </div>
        </div>
    </div>
</form>
