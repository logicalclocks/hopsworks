<!--
 ~
 ~ This file is part of Hopsworks
 ~ Copyright (C) 2019, Logical Clocks AB. All rights reserved
 ~
 ~ Hopsworks is free software: you can redistribute it and/or modify it under the terms of
 ~ the GNU Affero General Public License as published by the Free Software Foundation,
 ~ either version 3 of the License, or (at your option) any later version.
 ~
 ~ Hopsworks is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY;
 ~ without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR
 ~ PURPOSE.  See the GNU Affero General Public License for more details.
 ~
 ~ You should have received a copy of the GNU Affero General Public License along with this program.
 ~ If not, see <https://www.gnu.org/licenses/>.
 ~
 -->

<div class="container content-wrapper" style="border-top: none;">
    <div class="center-block" style="width: 320px;">
        <div class="panel">
            <div class="panel-heading text-center">
                <a style="text-decoration:none; font-family: Lobster; font-size: 30px; margin-left: 5px; color: #fff;">Hopsworks
                    <img alt="" style="margin-left:10px" width="30" src="images/hops.png">
                </a>
            </div>
            <div class="panel-body">
                <p class="text-center">Reset Password</p>
                <form role="form" name="recoveryForm" ng-submit="recoveryCtrl.send()" novalidate
                      class="form-validate">
                    <p></p>
                    <div class="form-group has-feedback">
                        <input id="id-password" name="user_password" placeholder="Password"
                               ng-model="recoveryCtrl.user.newPassword"
                               ng-minlength="6"
                               ng-pattern="/(?=.*[a-z])(?=.*[A-Z])(?=.*[\d\W]).*$/"
                               required
                               class="form-control"
                               type="password">
                        <span class="fa fa-lock form-control-feedback text-muted"></span>
                    </div>
                    <div class="form-group has-feedback">
                        <input name="user_password_confirm" placeholder="Confirm Password"
                               ng-model="recoveryCtrl.user.confirmPassword"
                               match="id-password"
                               class="form-control" type="password">
                        <span class="fa fa-lock form-control-feedback text-muted"></span>
                    </div>
                    <button class="btn btn-block btn-primary mt-lg" type="submit"
                            data-ng-disabled="recoveryCtrl.loading">Send
                    </button>
                </form>
                <div style="text-align: center" class="text-muted" ng-show="recoveryCtrl.loading">
                    <i class="fa fa-spinner fa-spin"></i>
                    Sending password...
                </div>
                <div class="alert  alert-success" role="alert" ng-if="recoveryCtrl.successMessage">
                    <button type="button" class="close" aria-label="Close" ng-click="recoveryCtrl.successMessage = ''">
                        <span aria-hidden="true">&times;</span>
                    </button>
                    <p id="reset-success-msg">{{recoveryCtrl.successMessage}}</p>
                </div>
                <div class="alert alert-danger" role="alert" ng-if="recoveryCtrl.errorMessage">
                    <button type="button" class="close" aria-label="Close" ng-click="recoveryCtrl.errorMessage = ''">
                        <span aria-hidden="true">&times;</span>
                    </button>
                    <p id="reset-error-msg">{{recoveryCtrl.errorMessage}}</p>
                </div>
                <a href="#!/login" class="btn btn-block btn-default">Back to login</a>
            </div>
        </div>
    </div>
</div>
